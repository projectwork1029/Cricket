<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="icon" type="image/png" href="./img/icon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reviews</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css" />
  <script src="./data.json"></script>
  <script type="text/javascript">
    window.onload = async function () {
      var reviews = null;
      await fetch('./data.json')
        .then(response => response.json())
        .then(data => {
          reviews = data;
        })
        .catch(error => console.error(error));


      var reviewsContainer = document.getElementById("reviews-container");


      reviews.forEach(function (review) {

        var reviewElement = document.createElement("div");
        reviewElement.className = "review";

        var bodyElement = document.createElement("div");
        bodyElement.className = "body-review";

        var nameElement = document.createElement("div");
        nameElement.className = "name-review";
        nameElement.textContent = review.name;

        var placeElement = document.createElement("div");
        placeElement.className = "place-review";
        placeElement.textContent = review.date;

        var ratingElement = document.createElement("div");
        ratingElement.className = "rating";
        for (var i = 0; i < review.rating; i++) {
          var starElement = document.createElement("i");
          starElement.className = "fas fa-star";
          ratingElement.appendChild(starElement);
        }

        var descElement = document.createElement("div");
        descElement.className = "desc-review";
        descElement.textContent = review.review_text;

        // Add each element to the review element
        bodyElement.appendChild(nameElement);
        bodyElement.appendChild(placeElement);
        bodyElement.appendChild(ratingElement);
        bodyElement.appendChild(descElement);
        reviewElement.appendChild(bodyElement);


        reviewsContainer.appendChild(reviewElement);
      });
    };

    function display() {
      document.getElementById("contact-submit").addEventListener("click", function (event) {
        event.preventDefault()
      });

      var name = document.getElementById("name").value;
      var date = document.getElementById("date").value;
      var rating = document.getElementById("rating").value;
      var message = document.getElementById("message").value;



      var reviewsContainer = document.getElementById("reviews-container");
      var reviewElement = document.createElement("div");
      reviewElement.className = "review";

      var bodyElement = document.createElement("div");
      bodyElement.className = "body-review";

      var nameElement = document.createElement("div");
      nameElement.className = "name-review";
      nameElement.textContent = name;

      var placeElement = document.createElement("div");
      placeElement.className = "place-review";
      placeElement.textContent = date;

      var ratingElement = document.createElement("div");
      ratingElement.className = "rating";
      for (var i = 0; i < rating; i++) {
        var starElement = document.createElement("i");
        starElement.className = "fas fa-star";
        ratingElement.appendChild(starElement);
      }

      var descElement = document.createElement("div");
      descElement.className = "desc-review";
      descElement.textContent = message;

      // Add each element to the review element
      bodyElement.appendChild(nameElement);
      bodyElement.appendChild(placeElement);
      bodyElement.appendChild(ratingElement);
      bodyElement.appendChild(descElement);
      reviewElement.appendChild(bodyElement);


      reviewsContainer.appendChild(reviewElement);

     
    }
  </script>
</head>

<body>
  <main>
    <div class="big-wrapper light">
      <img src="./img/shape.png" alt="" class="shape" />

      <header>
        <div class="container">
          <a href="index.html">
            <div class="logo">
              <img src="./img/logo.jpg" alt="Logo" />
              <h3>Cricketüèè</h3>

            </div>
          </a>

          <div class="links">
            <ul>
              <li><a href="./info.html">About Game</a></li>
              <li><a href="./reviews.html">Testimonials</a></li>
              <li><a href="./about.html">About Me</a></li>

            </ul>
          </div>

          <div class="overlay"></div>

          <div class="hamburger-menu">
            <div class="bar"></div>
          </div>
        </div>
      </header>

      <div class="rev-section">

        <h2 class="title">Here's What Other PLayers Say</h2>
        <p class="note">"Experience the joy and excitement of sports through the eyes of our community of
          passionate reviewers."</p>
        <div id="reviews-container" class="reviews">
          <!-- Reviews will be dynamically added here -->
        </div>

      </div>

    </div>


  </main>
  
  <div class="container_contact">
    <div id="contact">
      <h3>Add Review</h3>

      <fieldset>
        <input placeholder="Your name" type="text" id="name" tabindex="1" required autofocus>
      </fieldset>
      <fieldset>
        <input placeholder="Date" type="date" tabindex="2" id="date" required>
      </fieldset>
      <fieldset>
        <input placeholder="Rating(Out of 5)" type="tel" id="rating" tabindex="3" required>
      </fieldset>

      <fieldset>
        <textarea placeholder="Add your experience here...." id="message" style="border:1px #69b9e8" tabindex="5"
          required></textarea>
      </fieldset>
      <fieldset>
        <label onclick="display()" class="contact-submit" id="contact-submit">Create</label>
      </fieldset>
    </div>
  </div>

  <!-- JavaScript Files -->

  <script src="https://kit.fontawesome.com/a81368914c.js"></script>
  <script src="./app_rest.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
</body>

</html>